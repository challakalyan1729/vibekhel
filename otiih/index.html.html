<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Join Vibekhel, India's vibrant street sports community for gully cricket, kabaddi, chess, volleyball, and more.">
    <title>Vibekhel - Street Sports Community</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary-green: #2E7D32;
            --primary-green-dark: #1B5E20;
            --light-green: #E6F0E6;
            --soft-green: #A9CBA9;
            --bg-green: #4CAF50;
            --text-green: #388E3C;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light-green);
            line-height: 1.6;
        }

        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }

        .header-hover {
            transition: transform 0.3s ease;
        }
        .header-hover:hover {
            transform: translateY(-3px);
        }

        #map {
            height: 300px;
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .profile-dropdown {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: white;
            border: 1px solid var(--soft-green);
            border-radius: 8px;
            min-width: 160px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 10;
        }

        .profile-btn:hover .profile-dropdown {
            display: block;
        }

        header {
            background-color: var(--bg-green);
            color: white;
        }

        button {
            background-color: var(--primary-green);
            color: white;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: var(--primary-green-dark);
        }

        .filter-btn {
            background-color: #D4E4D4;
            color: var(--text-green);
            transition: background-color 0.3s ease;
        }

        .filter-btn:hover {
            background-color: #C6D8C6;
        }

        .filter-btn.active {
            background-color: var(--primary-green);
            color: white;
        }

        footer {
            background-color: var(--primary-green);
        }

        footer a {
            color: #C8E6C9;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: white;
        }

        .error-message {
            color: #D32F2F;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        @media (max-width: 640px) {
            .text-4xl {
                font-size: 2rem;
            }
            #eventsGrid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="shadow-md">
        <nav class="container mx-auto flex flex-wrap justify-between items-center py-4 px-6 gap-4">
            <a href="/" class="text-2xl font-bold text-white header-hover" aria-label="Vibekhel Home">Vibekhel</a>
            <div class="flex items-center gap-4">
                <button id="browseEventsBtn" class="text-white hover:text-gray-200 header-hover">Browse Events</button>
                <button id="createEventBtn" class="bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 header-hover">Create Event</button>
                <div class="relative profile-btn">
                    <button id="signInBtn" class="px-4 py-2 rounded header-hover" aria-label="Sign In or Profile">Sign In</button>
                    <div class="profile-dropdown">
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">My Events</a>
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Profile</a>
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Log Out</a>
                    </div>
                </div>
                <div class="relative">
                    <input id="globalSearch" type="text" placeholder="Search sports, locations..." class="p-2 border rounded-lg w-full sm:w-64" aria-label="Search events">
                    <button id="globalSearchBtn" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700" aria-label="Search">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto py-12 sm:py-20 text-center">
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-4">Join India‚Äôs Street Sports Revolution!</h1>
        <p class="text-lg text-gray-600 mb-6 max-w-2xl mx-auto">Connect with enthusiasts for gully cricket, kabaddi, chess, volleyball, and more.</p>
        <div class="flex justify-center space-x-4">
            <span class="text-4xl">üèèü§º‚ôüüèê</span>
        </div>
        <button id="findEventsBtn" class="mt-6 px-6 py-2 rounded">Find Events Near You</button>
    </section>

    <!-- Events Section -->
    <section id="eventsSection" class="container mx-auto py-8">
        <h2 class="text-2xl sm:text-3xl font-bold mb-6">Upcoming Events</h2>
        <div class="mb-6 flex flex-wrap gap-4 items-center">
            <span class="text-gray-600">Filter by Sport</span>
            <button class="filter-btn px-3 py-1 rounded-full flex items-center active" data-sport="all">All</button>
            <button class="filter-btn px-3 py-1 rounded-full flex items-center" data-sport="cricket"><span class="mr-1">üèè</span>Cricket</button>
            <button class="filter-btn px-3 py-1 rounded-full flex items-center" data-sport="kabaddi"><span class="mr-1">ü§º</span>Kabaddi</button>
            <button class="filter-btn px-3 py-1 rounded-full flex items-center" data-sport="chess"><span class="mr-1">‚ôü</span>Chess</button>
            <button class="filter-btn px-3 py-1 rounded-full flex items-center" data-sport="volleyball"><span class="mr-1">üèê</span>Volleyball</button>
            <div class="flex items-center">
                <input id="locationSearch" type="text" placeholder="Search by location" class="p-2 border rounded-l" aria-label="Search by location">
                <button id="searchLocationBtn" class="px-4 py-2 rounded-r">Search</button>
            </div>
            <div class="flex items-center">
                <select id="dateFilter" class="p-2 border rounded" aria-label="Filter by date">
                    <option value="all">All Dates</option>
                    <option value="today">Today</option>
                    <option value="tomorrow">Tomorrow</option>
                    <option value="sunday">Sunday</option>
                </select>
            </div>
        </div>
        <div id="eventsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Event cards will be dynamically inserted here -->
        </div>
    </section>

    <!-- Create Event Section -->
    <section id="createEventSection" class="container mx-auto py-8 hidden">
        <h2 class="text-2xl sm:text-3xl font-bold mb-4">Create a New Event</h2>
        <form id="eventForm" class="bg-white p-6 rounded-lg shadow-md">
            <div class="mb-4">
                <label for="sport" class="block text-gray-700 font-medium">Sport</label>
                <select id="sport" class="w-full p-2 border rounded" required aria-describedby="sport-error">
                    <option value="cricket">Gully Cricket</option>
                    <option value="kabaddi">Kabaddi</option>
                    <option value="chess">Chess</option>
                    <option value="volleyball">Volleyball</option>
                </select>
                <p id="sport-error" class="error-message hidden">Please select a sport.</p>
            </div>
            <div class="mb-4">
                <label for="datetime" class="block text-gray-700 font-medium">Date & Time</label>
                <input type="datetime-local" id="datetime" class="w-full p-2 border rounded" required aria-describedby="datetime-error">
                <p id="datetime-error" class="error-message hidden">Please select a valid date and time.</p>
            </div>
            <div class="mb-4">
                <label for="venue" class="block text-gray-700 font-medium">Venue</label>
                <div id="map"></div>
                <input type="text" id="venue" class="w-full p-2 border rounded mt-2" placeholder="Enter venue name" required aria-describedby="venue-error">
                <p id="venue-error" class="error-message hidden">Please enter a valid venue.</p>
            </div>
            <div class="flex gap-4">
                <button type="submit" class="px-4 py-2 rounded">Create Event</button>
                <button type="button" id="cancelBtn" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Cancel</button>
            </div>
        </form>
    </section>

    <!-- Footer -->
    <footer class="text-white py-6 mt-8">
        <div class="container mx-auto text-center">
            <p>¬© 2025 Vibekhel. All rights reserved.</p>
            <div class="mt-4 flex justify-center gap-4">
                <a href="#" aria-label="YouTube"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 4-8 4z"/>
                </svg></a>
                <a href="#" aria-label="Instagram"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.318 3.608 1.293.975.975 1.231 2.242 1.293 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.318 2.633-1.293 3.608-.975.975-2.242 1.231-3.608 1.293-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.318-3.608-1.293-.975-.975-1.231-2.242-1.293-3.608-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.062-1.366.318-2.633 1.293-3.608.975-.975 2.242-1.231 3.608-1.293 1.266-.058 1.646-.07 4.85-.07zm0 2.163c-3.184 0-3.616.013-4.887.072-1.251.057-2.157.273-2.964.64-.892.396-1.621 1.125-2.017 2.017-.367.807-.583 1.713-.64 2.964-.059 1.271-.072 1.703-.072 4.887s.013 3.616.072 4.887c.057 1.251.273 2.157.64 2.964.396.892 1.125 1.621 2.017 2.017.807.367 1.713.583 2.964.64 1.271.059 1.703.072 4.887.072s3.616-.013 4.887-.072c1.251-.057 2.157-.273 2.964-.64.892-.396 1.621-1.125 2.017-2.017.367-.807.583-1.713.64-2.964.059-1.271.072-1.703.072-4.887s-.013-3.616-.072-4.887c-.057-1.251-.273-2.157-.64-2.964-.396-.892-1.125-1.621-2.017-2.017-.807-.367-1.713-.583-2.964-.64-1.271-.059-1.703-.072-4.887-.072zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441-.645-1.441-1.44s.645-1.441 1.441-1.441c.796 0 1.441.645 1.441 1.441s-.645 1.44-1.441 1.44z"/>
                </svg></a>
                <a href="#" aria-label="LinkedIn"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-1.337-.012-3.05-1.862-3.05-1.863 0-2.148 1.452-2.148 2.956v5.698h-3v-11h2.879v1.548h.041c.398-.753 1.367-1.544 2.807-1.544 3.008 0 3.562 1.972 3.562 4.539v6.457z"/>
                </svg></a>
                <a href="#" aria-label="X Platform"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg></a>
            </div>
            <div class="mt-4 flex justify-center gap-4">
                <a href="#" class="hover:text-white">About</a>
                <a href="#" class="hover:text-white">Help</a>
                <a href="#" class="hover:text-white">Terms</a>
            </div>
        </div>
    </footer>

    <script>
        // Sample event data (images replaced with placeholders)
        let events = [
            { id: 1, sport: 'cricket', title: 'Gully Cricket Showdown', location: 'Local Ground, Delhi', date: '2025-07-09T16:00:00Z', image: '/images/cricket.jpg' },
            { id: 2, sport: 'kabaddi', title: 'Kabaddi Clash', location: 'Hussainpuram, Samalkot', date: '2025-07-10T18:00:00Z', image: '/images/kabaddi.jpg' },
            { id: 3, sport: 'chess', title: 'Street Chess Tournament', location: 'Community Center, Chennai', date: '2025-07-09T10:00:00Z', image: '/images/chess.jpg' },
            { id: 4, sport: 'volleyball', title: 'Volleyball Match', location: 'School Ground, Kolkata', date: '2025-07-13T17:00:00Z', image: '/images/volleyball.jpg' }
        ];

        const now = new Date('2025-07-09T23:41:00+05:30');
        const today = now.toISOString().split('T')[0];
        const tomorrow = new Date(now);
        tomorrow.setDate(now.getDate() + 1);
        const sunday = new Date(now);
        sunday.setDate(now.getDate() + (7 - now.getDay()) % 7);

        function displayEvents(filter = 'all', locationSearch = '', dateFilter = 'all') {
            const eventsGrid = document.getElementById('eventsGrid');
            eventsGrid.innerHTML = '';
            let filteredEvents = filter === 'all' ? events : events.filter(event => event.sport === filter);

            if (locationSearch) {
                filteredEvents = filteredEvents.filter(event =>
                    event.location.toLowerCase().includes(locationSearch.toLowerCase())
                );
            }

            const todayStr = today;
            const tomorrowStr = tomorrow.toISOString().split('T')[0];
            const sundayStr = sunday.toISOString().split('T')[0];

            if (dateFilter !== 'all') {
                filteredEvents = filteredEvents.filter(event => {
                    const eventDate = new Date(event.date).toISOString().split('T')[0];
                    if (dateFilter === 'today' && eventDate !== todayStr) return false;
                    if (dateFilter === 'tomorrow' && eventDate !== tomorrowStr) return false;
                    if (dateFilter === 'sunday' && eventDate !== sundayStr) return false;
                    return true;
                });
            }

            if (filteredEvents.length === 0) {
                eventsGrid.innerHTML = '<p class="text-center text-gray-600 col-span-full">No events found.</p>';
                return;
            }

            filteredEvents.forEach(event => {
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-lg shadow-md card-hover';
                const eventTime = new Date(event.date).toLocaleString('en-IN', { timeZone: 'Asia/Kolkata', hour: '2-digit', minute: '2-digit', hour12: true });
                const eventDate = new Date(event.date).toLocaleDateString('en-IN', { timeZone: 'Asia/Kolkata', day: '2-digit', month: 'long', year: 'numeric' });
                card.innerHTML = `
                    <img src="${event.image}" alt="${event.title}" class="w-full h-40 object-cover rounded-md mb-4" loading="lazy">
                    <h3 class="text-lg font-semibold">${event.title}</h3>
                    <p class="text-gray-600 text-sm">üìç ${event.location}</p>
                    <p class="text-gray-600 text-sm">üìÖ ${eventDate}</p>
                    <p class="text-gray-600 text-sm">‚è∞ ${eventTime}</p>
                `;
                eventsGrid.appendChild(card);
            });
        }

        function validateForm(sport, datetime, venue) {
            let isValid = true;
            document.querySelectorAll('.error-message').forEach(el => el.classList.add('hidden'));

            if (!sport) {
                document.getElementById('sport-error').classList.remove('hidden');
                isValid = false;
            }
            if (!datetime) {
                document.getElementById('datetime-error').classList.remove('hidden');
                isValid = false;
            }
            if (!venue) {
                document.getElementById('venue-error').classList.remove('hidden');
                isValid = false;
            }
            return isValid;
        }

        function initMap() {
            const map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 20.5937, lng: 78.9629 },
                zoom: 5,
            });
            const marker = new google.maps.Marker({ map, draggable: true });
            google.maps.event.addListener(map, 'click', (event) => {
                marker.setPosition(event.latLng);
                document.getElementById('venue').value = `Lat: ${event.latLng.lat().toFixed(4)}, Lng: ${event.latLng.lng().toFixed(4)}`;
            });
        }

        // Event Listeners
        document.getElementById('findEventsBtn').addEventListener('click', () => {
            document.getElementById('eventsSection').scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('browseEventsBtn').addEventListener('click', () => {
            document.getElementById('eventsSection').scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('createEventBtn').addEventListener('click', () => {
            document.getElementById('createEventSection').classList.remove('hidden');
            document.getElementById('eventsSection').classList.add('hidden');
        });

        document.getElementById('cancelBtn').addEventListener('click', () => {
            document.getElementById('createEventSection').classList.add('hidden');
            document.getElementById('eventsSection').classList.remove('hidden');
            document.getElementById('eventForm').reset();
        });

        document.getElementById('eventForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const sport = document.getElementById('sport').value;
            const datetime = document.getElementById('datetime').value;
            const venue = document.getElementById('venue').value;

            if (!validateForm(sport, datetime, venue)) return;

            const newEvent = {
                id: events.length + 1,
                sport,
                title: `${sport.charAt(0).toUpperCase() + sport.slice(1)} Meetup`,
                location: venue,
                date: new Date(datetime).toISOString(),
                image: `/images/${sport}.jpg`
            };
            events.push(newEvent);
            displayEvents();
            document.getElementById('createEventSection').classList.add('hidden');
            document.getElementById('eventsSection').classList.remove('hidden');
            document.getElementById('eventForm').reset();
            alert('Event created successfully!');
        });

        document.querySelectorAll('button[data-sport]').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('button[data-sport]').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                const dateFilter = document.getElementById('dateFilter').value;
                displayEvents(button.getAttribute('data-sport'), document.getElementById('locationSearch').value, dateFilter);
            });
        });

        document.getElementById('searchLocationBtn').addEventListener('click', () => {
            const locationSearch = document.getElementById('locationSearch').value;
            const dateFilter = document.getElementById('dateFilter').value;
            const sportFilter = document.querySelector('button[data-sport].active')?.getAttribute('data-sport') || 'all';
            displayEvents(sportFilter, locationSearch, dateFilter);
        });

        document.getElementById('dateFilter').addEventListener('change', () => {
            const sportFilter = document.querySelector('button[data-sport].active')?.getAttribute('data-sport') || 'all';
            const locationSearch = document.getElementById('locationSearch').value;
            displayEvents(sportFilter, locationSearch, document.getElementById('dateFilter').value);
        });

        document.getElementById('globalSearchBtn').addEventListener('click', () => {
            const searchTerm = document.getElementById('globalSearch').value.toLowerCase();
            const dateFilter = document.getElementById('dateFilter').value;
            const sportFilter = document.querySelector('button[data-sport].active')?.getAttribute('data-sport') || 'all';
            let filteredEvents = events.filter(event =>
                event.sport.toLowerCase().includes(searchTerm) ||
                event.location.toLowerCase().includes(searchTerm) ||
                event.title.toLowerCase().includes(searchTerm)
            );
            displayEvents(sportFilter, '', dateFilter);
        });

        document.getElementById('signInBtn').addEventListener('click', () => {
            const isSignedIn = document.getElementById('signInBtn').textContent === 'Profile';
            if (!isSignedIn) {
                alert('Sign In successful! (Mock)');
                document.getElementById('signInBtn').textContent = 'Profile';
            }
        });

        // Lazy-load Google Maps
        function loadGoogleMaps() {
            if (!window.google) {
                const script = document.createElement('script');
                script.src = `https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap`;
                script.async = true;
                script.defer = true;
                document.head.appendChild(script);
            }
        }

        // Load map only when Create Event section is opened
        document.getElementById('createEventBtn').addEventListener('click', loadGoogleMaps);

        // Initial display
        displayEvents();
        window.initMap = initMap;
    </script>
</body>
</html>